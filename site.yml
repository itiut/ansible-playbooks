---
- hosts: localhost
  connection: local

  vars_files:
    - [ "vars/{{ ansible_os_family }}.yml", vars/os_defaults.yml ]
    - vars/common.yml

  roles:
    - { role: apt,        tags: ['apt'],        when: ansible_os_family == 'Debian' }
    - { role: brew,       tags: ['brew'] }
    - { role: repository, tags: ['repository'] }
    - { role: dotfile,    tags: ['dotfile'] }
    - { role: loginshell, tags: ['loginshell'] }

#   roles:
#     - { role: docker, tags: ['docker'] }
#     - { role: gui, tags: ['gui'] }
#     - { role: linuxbrew, tags: ['linuxbrew'] }
#     - { role: mysql, tags: ['mysql'] }
#     - { role: ruby, tags: ['ruby'] }

#   tasks:
#     - name: create group by DESKTOP_SESSION
#       group_by: key={{ ansible_env.DESKTOP_SESSION }}
#       tags:
#         - desktop

# - hosts: ubuntu

#   roles:
#     - { role: ubuntu, tags: ['ubuntu'] }
#     - { role: vagrant, tags: ['vagrant'] }

# - hosts: xubuntu
